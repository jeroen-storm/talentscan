<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Talent Lab Scan</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Introduction Screen -->
        <div class="screen intro-screen" id="intro">
            <div class="intro-content">
                <div class="progress-bar">
                    <div class="progress" id="intro-progress"></div>
                </div>
                <div class="intro-counter" id="intro-counter">Vraag 1 van 12</div>
                
                <div class="character-image" id="character-image">
                    <img src="IMG/characters/01- emma.png" alt="Emma" id="character-img">
                </div>
                
                <div class="intro-text" id="intro-text">
                    <div class="situation-line">Je krijgt een groepsopdracht voor school...</div>
                    <div class="context-line">Iedereen heeft verschillende idee√´n en voorkeuren...</div>
                    <div class="question-line">Welke rol ga jij spontaan aannemen?</div>
                </div>
                
                <div class="intro-navigation">
                    <button class="btn-nav btn-next" id="intro-next-btn" onclick="nextFromIntro()">Geef antwoord</button>
                </div>
            </div>
        </div>

        <!-- Question Screen -->
        <div class="screen question-screen" id="questions">
            <div>
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>
                <div class="question-counter" id="counter" style="display: none;">Vraag 1 van 12</div>
                <div class="question">
                    <h2 id="question-text"></h2>
                    <div class="options" id="options"></div>
                </div>
            </div>
        </div>

        <!-- Results Screen -->
        <div class="screen" id="results">
            <div class="primary-talent" id="primary-talent">
                <h2 id="primary-name"></h2>
                <p id="primary-percentage"></p>
            </div>
            
            <div class="talent-scores" id="talent-scores"></div>
            
            <div class="description" id="description"></div>
            
            <div class="activities" id="activities"></div>
            
            <button class="btn" onclick="window.location.href='start.html'">Opnieuw doen</button>
        </div>
    </div>

    <!-- Firebase v8 (stable) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    
    <!-- Firebase configuration - MUST load before app -->
    <script src="js/firebase-config.js"></script>
    
    <!-- Main app - Load after Firebase is ready -->
    <script>
        // Ensure Firebase is initialized before loading the app
        window.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Page loaded, checking Firebase...');
            
            // Small delay to ensure Firebase is fully initialized
            setTimeout(function() {
                if (typeof firebase !== 'undefined' && typeof db !== 'undefined') {
                    console.log('‚úÖ Firebase is ready');
                    console.log('‚úÖ saveCompletedScan function available:', typeof saveCompletedScan === 'function');
                } else {
                    console.error('‚ùå Firebase not properly initialized');
                }
                
                // Load the main app
                const script = document.createElement('script');
                script.src = 'js/app-integrated.js';
                document.body.appendChild(script);
            }, 100);
        });
    </script>
</body>
</html>